## API Report File for "@friendlycaptcha/sdk"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

// @internal
export interface _AutoTrigger extends _TriggerBase {
    tt: "auto";
}

// @public
export interface CreateWidgetOptions {
    apiEndpoint?: string | "eu" | "global";
    element: HTMLElement;
    formFieldName?: string | null;
    language?: string;
    sitekey?: string;
    startMode?: StartMode;
    theme?: "light" | "dark" | "auto";
}

// @internal
export interface _FocusTrigger extends _TriggerBase {
    // (undocumented)
    ev: _TriggerEventData;
    tt: "focus";
}

// @public
export type FRCEventData = FRCWidgetStateChangeEventData | FRCWidgetCompleteEventData | FRCWidgetExpireEventData | FRCWidgetErrorEventData | FRCWidgetResetEventData;

// @public
export interface FRCEventMap {
    // (undocumented)
    [FRCWidgetCompleteEventName]: FRCWidgetCompleteEvent;
    // (undocumented)
    [FRCWidgetErrorEventName]: FRCWidgetWidgetErrorEvent;
    // (undocumented)
    [FRCWidgetExpireEventName]: FRCWidgetWidgetExpireEvent;
    // (undocumented)
    [FRCWidgetResetEventName]: FRCWidgetWidgetResetEvent;
    // (undocumented)
    [FRCWidgetStateChangeEventName]: FRCWidgetStateChangeEvent;
}

// @public
export type FRCEventName = keyof FRCEventMap;

// @public
export type FRCWidgetCompleteEvent = CustomEvent<FRCWidgetCompleteEventData>;

// @public
export interface FRCWidgetCompleteEventData {
    id: string;
    name: typeof FRCWidgetCompleteEventName;
    response: string;
    // (undocumented)
    state: "completed";
}

// @public
export const FRCWidgetCompleteEventName = "frc:widget.complete";

// @public
export interface FRCWidgetErrorEventData {
    error: WidgetErrorData;
    id: string;
    name: typeof FRCWidgetErrorEventName;
    response: string;
    // (undocumented)
    state: "error";
}

// @public
export const FRCWidgetErrorEventName = "frc:widget.error";

// @public
export interface FRCWidgetExpireEventData {
    id: string;
    name: typeof FRCWidgetExpireEventName;
    response: string;
    // (undocumented)
    state: "expired";
}

// @public
export const FRCWidgetExpireEventName = "frc:widget.expire";

// @public
export interface FRCWidgetResetEventData {
    id: string;
    name: typeof FRCWidgetResetEventName;
    response: string;
    // (undocumented)
    state: "reset";
    trigger: WidgetResetTrigger;
}

// @public
export const FRCWidgetResetEventName = "frc:widget.reset";

// @public
export type FRCWidgetStateChangeEvent = CustomEvent<FRCWidgetStateChangeEventData>;

// @public
export interface FRCWidgetStateChangeEventData {
    error?: WidgetErrorData;
    id: string;
    name: typeof FRCWidgetStateChangeEventName;
    response: string;
    state: WidgetState;
}

// @public
export const FRCWidgetStateChangeEventName = "frc:widget.statechange";

// @public
export type FRCWidgetWidgetErrorEvent = CustomEvent<FRCWidgetErrorEventData>;

// @public
export type FRCWidgetWidgetExpireEvent = CustomEvent<FRCWidgetExpireEventData>;

// @public
export type FRCWidgetWidgetResetEvent = CustomEvent<FRCWidgetResetEventData>;

// @public
export class FriendlyCaptchaSDK {
    constructor(opts?: FriendlyCaptchaSDKOptions);
    attach(elements?: HTMLElement | HTMLElement[] | NodeListOf<Element>): WidgetHandle[];
    attached: Promise<WidgetHandle[]>;
    clear(): void;
    createWidget(opts: CreateWidgetOptions): WidgetHandle;
    getAllWidgets(): WidgetHandle[];
    getWidgetById(id: string): WidgetHandle | undefined;
}

// @public
export interface FriendlyCaptchaSDKOptions {
    apiEndpoint?: string | "eu" | "global";
    startAgent?: boolean;
}

// @internal
export interface _ProgrammaticTrigger extends _TriggerBase {
    tt: "programmatic";
}

// @internal
export type _RootTrigger = _FocusTrigger | _ProgrammaticTrigger | _AutoTrigger;

// @public
export type SentinelResponse = ".UNINITIALIZED" | ".UNCONNECTED" | ".UNSTARTED" | ".REQUESTING" | ".SOLVING" | ".VERIFYING" | ".EXPIRED" | ".DESTROYED" | ".ERROR" | ".RESET";

// @public
export type StartMode = "focus" | "auto" | "none";

// @internal
export interface _TriggerBase {
    el: _TriggerElementData;
    pnow: number;
    sm: StartMode | "";
    stack: string;
    tt: _TriggerType;
    v: 1;
    we: boolean;
    weit: boolean;
}

// @internal
export interface _TriggerElementData {
    bcr: [number, number, number, number];
    con: boolean;
}

// @internal (undocumented)
export interface _TriggerEventData {
    eot: boolean;
    it: boolean;
    rt: boolean;
    ts: number;
}

// @internal
export type _TriggerType = "auto" | "focus" | "programmatic" | "widget";

// @public
export type WidgetErrorCode = "network_error" | "sitekey_invalid" | "sitekey_missing" | "other";

// @public (undocumented)
export interface WidgetErrorData {
    code: WidgetErrorCode;
    detail: string;
    title?: string;
}

// @public
export class WidgetHandle {
    // @internal
    constructor(opts: _WidgetHandleOpts);
    addEventListener<K extends keyof FRCEventMap>(type: K, listener: (this: HTMLElement, ev: FRCEventMap[K]) => any | {
        handleEvent: (ev: FRCEventMap[K]) => any;
    }, options?: AddEventListenerOptions): void;
    destroy(): void;
    getElement(): HTMLElement;
    getResponse(): string;
    getState(): WidgetState;
    readonly id: string;
    isDestroyed: boolean;
    // @internal (undocumented)
    readonly ready: Promise<undefined>;
    removeEventListener<K extends keyof FRCEventMap>(type: K, listener: (this: HTMLElement, ev: FRCEventMap[K]) => any | {
        handleEvent: (ev: FRCEventMap[K]) => any;
    }, options?: EventListenerOptions): void;
    reset(opts?: WidgetResetOptions): void;
    // @internal
    setState(s: {
        response: SentinelResponse | string;
        state: WidgetState;
        error?: WidgetErrorData;
        resetTrigger?: WidgetResetTrigger;
    }): void;
    readonly sitekey?: string;
    start(): void;
    // (undocumented)
    startMode: StartMode;
}

// @internal
export interface _WidgetHandleOpts {
    // (undocumented)
    callbacks: _WidgetRootCallbacks;
    createOpts: CreateWidgetOptions;
    id: string;
    // (undocumented)
    registered: Promise<undefined>;
}

// @public
export interface WidgetResetOptions {
    // @internal
    trigger?: WidgetResetTrigger;
}

// @public
export type WidgetResetTrigger = "widget" | "root" | "agent";

// @internal
export interface _WidgetRootCallbacks {
    onDestroy: () => void;
    onReset: (opts: WidgetResetOptions) => void;
    onTrigger: (data: {
        trigger: _RootTrigger;
    }) => void;
}

// @public
export type WidgetState = "init" | "reset" | "unactivated" | "activating" | "activated" | "requesting" | "solving" | "verifying" | "completed" | "expired" | "error" | "destroyed";

```
